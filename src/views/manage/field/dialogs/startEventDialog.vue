<template>
  <el-dialog v-model="isShow" title="开始农事" :close-on-click-modal="false" width="500" center>
    <div class="dialog-body">
      <el-text class="mx-1" type="primary">
        <el-icon>
          <InfoFilled></InfoFilled>
        </el-icon>
        可以多选农事，同时开始
      </el-text>
      <div class="event-list">
        <div class="event-item" v-for="item in eventList"
          :class="{ active: pickedList.findIndex(o => o.type === item.type) !== -1 }" @click="handlePick(item)">
          <svg v-if="item.type === 1 && !(pickedList.findIndex(o => o.type === item.type) !== -1)" t="1732866219993"
            class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4283" width="16"
            height="16">
            <path
              d="M290.124703 428.815439c28.228925 28.227901 55.919591 55.916521 83.334987 83.330894-8.766664 8.759501-17.883299 17.868973-26.832112 26.810622-18.076704-18.09717-36.500309-36.542264-55.110155-55.1736 4.901637-6.072299 10.057053-12.459776 15.213493-18.847254-0.326435-0.341784-0.651846-0.682545-0.978281-1.02433-1.38965 1.071402-2.882654 2.033309-4.1536 3.230578-41.446971 39.051411-83.692121 77.367065-118.365828 122.905214-32.79594 43.071981-58.657958 89.795119-72.591295 142.489248-8.503675 32.160467-11.776208 64.651462-4.738931 97.615225 10.852162 50.833759 50.082652 86.181825 101.754498 92.584652 43.040259 5.333472 83.764775-3.459798 123.402541-19.028379 54.155411-21.271466 101.806687-53.058426 143.832849-92.925413 28.062126-26.620287 54.507428-54.94745 81.628112-82.557274 2.223644-2.263553 4.078899-4.88731 6.105045-7.344269-0.326435-0.36225-0.651846-0.723477-0.978281-1.085728-6.352685 5.115508-12.70537 10.231015-18.842137 15.172561-18.443048-18.511609-36.823674-36.960797-54.78986-54.994522 8.66331-8.66024 17.744129-17.736966 26.311249-26.302039 27.119661 27.115568 54.894238 54.886051 82.998319 82.986039 0.334621-0.800225 0.287549-0.432859 0.079818-0.227174-32.877805 32.713053-65.101717 66.118883-98.81147 97.951893-51.365878 48.504714-109.7588 86.205361-177.036066 109.132536-33.480532 11.408841-67.834968 18.079774-103.363136 16.832364-36.112476-1.267876-69.683059-10.541077-98.296747-33.673937-28.79072-23.275099-44.525076-54.142108-50.765197-90.131787-7.806803-45.025473-0.548492-88.62855 13.805424-131.292232 20.563338-61.116963 53.642734-115.15981 96.432283-162.976862 25.89681-28.940123 54.023404-55.885821 81.198324-83.678818C270.456758 448.481338 280.495392 438.508195 290.124703 428.815439z"
              p-id="4284" fill="#606266"></path>
            <path
              d="M292.478308 760.805646c0.691755-1.505283 1.340531-3.031033 2.081405-4.511757 16.604166-33.20424 33.17354-66.425875 49.89948-99.567693 1.64957-3.26844 3.910053-6.40999 6.496971-8.998955 164.53024-164.643827 329.120856-329.22728 493.745241-493.776963 1.672082-1.671059 3.847631-2.839675 6.339382-4.641717-19.630083-19.556405-38.07006-37.927821-56.18565-55.974849 9.250688-9.236362 18.371416-18.342764 27.249621-27.206642 45.913703 45.919842 92.308359 92.320639 138.381697 138.400117-8.812713 8.828063-17.908882 17.939581-26.968212 27.01426-18.116613-18.136056-36.513612-36.553521-54.904471-54.964846C683.21243 371.977943 488.396419 566.794977 293.580408 761.613034 293.213042 761.343905 292.845675 761.074775 292.478308 760.805646z"
              p-id="4285" fill="#606266"></path>
          </svg>
          <svg v-if="item.type === 1 && pickedList.findIndex(o => o.type === item.type) !== -1" t="1732866219993"
            class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4283" width="16"
            height="16">
            <path
              d="M290.124703 428.815439c28.228925 28.227901 55.919591 55.916521 83.334987 83.330894-8.766664 8.759501-17.883299 17.868973-26.832112 26.810622-18.076704-18.09717-36.500309-36.542264-55.110155-55.1736 4.901637-6.072299 10.057053-12.459776 15.213493-18.847254-0.326435-0.341784-0.651846-0.682545-0.978281-1.02433-1.38965 1.071402-2.882654 2.033309-4.1536 3.230578-41.446971 39.051411-83.692121 77.367065-118.365828 122.905214-32.79594 43.071981-58.657958 89.795119-72.591295 142.489248-8.503675 32.160467-11.776208 64.651462-4.738931 97.615225 10.852162 50.833759 50.082652 86.181825 101.754498 92.584652 43.040259 5.333472 83.764775-3.459798 123.402541-19.028379 54.155411-21.271466 101.806687-53.058426 143.832849-92.925413 28.062126-26.620287 54.507428-54.94745 81.628112-82.557274 2.223644-2.263553 4.078899-4.88731 6.105045-7.344269-0.326435-0.36225-0.651846-0.723477-0.978281-1.085728-6.352685 5.115508-12.70537 10.231015-18.842137 15.172561-18.443048-18.511609-36.823674-36.960797-54.78986-54.994522 8.66331-8.66024 17.744129-17.736966 26.311249-26.302039 27.119661 27.115568 54.894238 54.886051 82.998319 82.986039 0.334621-0.800225 0.287549-0.432859 0.079818-0.227174-32.877805 32.713053-65.101717 66.118883-98.81147 97.951893-51.365878 48.504714-109.7588 86.205361-177.036066 109.132536-33.480532 11.408841-67.834968 18.079774-103.363136 16.832364-36.112476-1.267876-69.683059-10.541077-98.296747-33.673937-28.79072-23.275099-44.525076-54.142108-50.765197-90.131787-7.806803-45.025473-0.548492-88.62855 13.805424-131.292232 20.563338-61.116963 53.642734-115.15981 96.432283-162.976862 25.89681-28.940123 54.023404-55.885821 81.198324-83.678818C270.456758 448.481338 280.495392 438.508195 290.124703 428.815439z"
              p-id="4284" fill="#ffffff"></path>
            <path
              d="M292.478308 760.805646c0.691755-1.505283 1.340531-3.031033 2.081405-4.511757 16.604166-33.20424 33.17354-66.425875 49.89948-99.567693 1.64957-3.26844 3.910053-6.40999 6.496971-8.998955 164.53024-164.643827 329.120856-329.22728 493.745241-493.776963 1.672082-1.671059 3.847631-2.839675 6.339382-4.641717-19.630083-19.556405-38.07006-37.927821-56.18565-55.974849 9.250688-9.236362 18.371416-18.342764 27.249621-27.206642 45.913703 45.919842 92.308359 92.320639 138.381697 138.400117-8.812713 8.828063-17.908882 17.939581-26.968212 27.01426-18.116613-18.136056-36.513612-36.553521-54.904471-54.964846C683.21243 371.977943 488.396419 566.794977 293.580408 761.613034 293.213042 761.343905 292.845675 761.074775 292.478308 760.805646z"
              p-id="4285" fill="#ffffff"></path>
          </svg>
          <svg v-if="item.type === 2 && !(pickedList.findIndex(o => o.type === item.type) !== -1)" t="1732865953549"
            class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2886" width="16"
            height="16">
            <path
              d="M896.512 321.024v64H773.12c-3.584 0-6.144-1.024-8.192-3.584-60.928-61.44-122.368-122.368-183.296-183.808-4.096-4.096-7.68-5.632-13.312-4.608-31.232 4.608-53.76 28.672-55.808 59.904 0 2.048 0.512 4.608 1.536 6.144 11.264 11.776 22.528 23.04 34.304 34.304 15.36 14.848 30.208 29.696 45.568 44.544 0.512 0.512 0.512 1.024 1.024 1.024-39.424 41.984-11.776 108.544 46.08 110.592v61.952c-56.32 2.048-125.44-44.032-127.488-127.488h-128c-67.072 0-122.368 51.712-127.488 118.272s42.496 126.464 109.056 136.192c6.656 1.024 13.824 1.024 20.992 1.536h60.928v62.976c-0.512 0-1.024 0.512-1.536 0.512-29.184-0.512-58.368 2.56-87.552-1.024-79.872-9.728-146.944-72.704-162.304-152.064-21.504-108.544 50.176-210.944 159.232-228.352 10.752-1.536 22.528-1.536 33.792-1.536h119.296c1.024 0 1.536 0 2.048-0.512 0 0 0.512-0.512 1.024-0.512-1.536-1.024-3.584-1.024-5.12-2.56L451.072 260.096c-1.536-1.536-3.072-5.12-3.072-7.168 1.536-50.176 34.304-100.352 90.624-117.248 10.24-3.072 21.504-3.584 32.768-5.632 3.584-0.512 6.144 1.024 8.704 3.584L762.88 316.416c3.072 3.072 6.144 4.608 10.752 4.608h122.88zM896.512 833.536v64H680.96c-3.584 0-6.144 1.024-9.216 3.584-25.6 23.552-56.32 37.888-89.6 47.104-78.336 21.504-155.648 18.944-231.936-10.24-22.528-8.704-43.008-20.992-60.928-37.888-1.536-1.536-4.608-2.048-7.168-2.048H71.68c-2.048-1.024-4.096-1.024-6.144-1.024v-64h256c0 17.92 12.288 26.624 25.088 34.816 20.48 12.8 44.032 19.456 67.584 23.552 53.248 9.216 105.984 8.192 158.208-5.632 17.92-4.608 34.816-11.264 49.664-22.016 10.24-7.68 18.432-16.384 19.456-30.208h254.976z"
              fill="#606266" p-id="2887"></path>
            <path
              d="M513.536 642.048h382.976v62.976h-382.976zM512.512 612.864c-2.048 17.92-18.432 30.208-35.328 27.648-18.432-2.56-30.72-18.944-27.648-37.888 2.048-10.752 5.12-21.504 9.216-31.744 6.656-17.92 13.824-34.816 20.992-52.736l1.536-3.072h1.536c9.728 26.624 19.456 53.248 28.16 80.384 2.048 5.632 2.048 11.776 1.536 17.408zM512 806.4c-2.56 15.872-17.408 27.136-33.792 25.6-16.384-1.536-30.208-14.848-29.184-31.744 0.512-9.216 2.56-18.944 5.632-27.648 7.68-21.504 16.896-43.008 25.088-64 0.512-0.512 1.024-1.536 1.024-2.048h2.048c9.728 26.624 19.456 53.248 28.16 80.384 2.048 6.144 2.048 13.312 1.024 19.456z"
              fill="#606266" p-id="2888"></path>
          </svg>
          <svg v-if="item.type === 2 && pickedList.findIndex(o => o.type === item.type) !== -1" t="1732866001369"
            class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3065" width="16"
            height="16">
            <path
              d="M896.512 321.024v64H773.12c-3.584 0-6.144-1.024-8.192-3.584-60.928-61.44-122.368-122.368-183.296-183.808-4.096-4.096-7.68-5.632-13.312-4.608-31.232 4.608-53.76 28.672-55.808 59.904 0 2.048 0.512 4.608 1.536 6.144 11.264 11.776 22.528 23.04 34.304 34.304 15.36 14.848 30.208 29.696 45.568 44.544 0.512 0.512 0.512 1.024 1.024 1.024-39.424 41.984-11.776 108.544 46.08 110.592v61.952c-56.32 2.048-125.44-44.032-127.488-127.488h-128c-67.072 0-122.368 51.712-127.488 118.272s42.496 126.464 109.056 136.192c6.656 1.024 13.824 1.024 20.992 1.536h60.928v62.976c-0.512 0-1.024 0.512-1.536 0.512-29.184-0.512-58.368 2.56-87.552-1.024-79.872-9.728-146.944-72.704-162.304-152.064-21.504-108.544 50.176-210.944 159.232-228.352 10.752-1.536 22.528-1.536 33.792-1.536h119.296c1.024 0 1.536 0 2.048-0.512 0 0 0.512-0.512 1.024-0.512-1.536-1.024-3.584-1.024-5.12-2.56L451.072 260.096c-1.536-1.536-3.072-5.12-3.072-7.168 1.536-50.176 34.304-100.352 90.624-117.248 10.24-3.072 21.504-3.584 32.768-5.632 3.584-0.512 6.144 1.024 8.704 3.584L762.88 316.416c3.072 3.072 6.144 4.608 10.752 4.608h122.88zM896.512 833.536v64H680.96c-3.584 0-6.144 1.024-9.216 3.584-25.6 23.552-56.32 37.888-89.6 47.104-78.336 21.504-155.648 18.944-231.936-10.24-22.528-8.704-43.008-20.992-60.928-37.888-1.536-1.536-4.608-2.048-7.168-2.048H71.68c-2.048-1.024-4.096-1.024-6.144-1.024v-64h256c0 17.92 12.288 26.624 25.088 34.816 20.48 12.8 44.032 19.456 67.584 23.552 53.248 9.216 105.984 8.192 158.208-5.632 17.92-4.608 34.816-11.264 49.664-22.016 10.24-7.68 18.432-16.384 19.456-30.208h254.976z"
              fill="#ffffff" p-id="3066"></path>
            <path
              d="M513.536 642.048h382.976v62.976h-382.976zM512.512 612.864c-2.048 17.92-18.432 30.208-35.328 27.648-18.432-2.56-30.72-18.944-27.648-37.888 2.048-10.752 5.12-21.504 9.216-31.744 6.656-17.92 13.824-34.816 20.992-52.736l1.536-3.072h1.536c9.728 26.624 19.456 53.248 28.16 80.384 2.048 5.632 2.048 11.776 1.536 17.408zM512 806.4c-2.56 15.872-17.408 27.136-33.792 25.6-16.384-1.536-30.208-14.848-29.184-31.744 0.512-9.216 2.56-18.944 5.632-27.648 7.68-21.504 16.896-43.008 25.088-64 0.512-0.512 1.024-1.536 1.024-2.048h2.048c9.728 26.624 19.456 53.248 28.16 80.384 2.048 6.144 2.048 13.312 1.024 19.456z"
              fill="#ffffff" p-id="3067"></path>
          </svg>
          <svg v-if="item.type === 3 && !(pickedList.findIndex(o => o.type === item.type) !== -1)" t="1732866342568"
            class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5534" width="16"
            height="16">
            <path
              d="M970.893617 427.414268h-62.478098a30.918648 30.918648 0 0 0 0 61.837296h62.478098a30.918648 30.918648 0 0 0 0-61.837296zM405.546934 290.923655H342.588235A30.918648 30.918648 0 0 0 342.588235 352.440551h62.317898a30.918648 30.918648 0 0 0 0-61.837297zM467.22403 567.108886H281.55194a30.918648 30.918648 0 0 0 0 61.837297h185.67209a30.918648 30.918648 0 0 0 0-61.837297zM961.922403 748.295369h-62.478098a30.918648 30.918648 0 0 0 0 61.837297h62.478098a30.918648 30.918648 0 1 0 0-61.837297zM961.922403 962.162703H792.590738a30.918648 30.918648 0 0 0 0 61.837297h169.331665a30.918648 30.918648 0 1 0 0-61.837297zM587.694618 962.162703h-62.478097a30.918648 30.918648 0 0 0 0 61.837297h62.478097a30.918648 30.918648 0 1 0 0-61.837297zM213.306633 962.162703H97.481852a30.918648 30.918648 0 1 0 0 61.837297h115.824781a30.918648 30.918648 0 0 0 0-61.837297z"
              fill="#606266" p-id="5535"></path>
            <path
              d="M839.209011 281.952441L593.461827 35.724656a123.834793 123.834793 0 0 0-174.137672 0L58.392991 396.81602a122.873592 122.873592 0 0 0 0 174.137672l247.509387 247.829787a121.43179 121.43179 0 0 0 86.347935 35.724656 123.354193 123.354193 0 0 0 87.789737-36.205256l244.145182-252.315395a84.425532 84.425532 0 0 0 8.811013-107.654568 87.309136 87.309136 0 0 0-71.769712-35.724656H135.929912a6.56821 6.56821 0 0 1-4.645807-11.214017L462.898623 80.100125a61.677096 61.677096 0 0 1 86.828536 0l247.509387 247.028786a30.758448 30.758448 0 0 0 42.613266 1.121402A32.04005 32.04005 0 0 0 839.209011 281.952441zM662.988736 484.445557a22.588235 22.588235 0 0 1 20.986233 13.777221 22.107635 22.107635 0 0 1-4.645808 24.510639L436.946183 774.56821a64.0801 64.0801 0 0 1-44.37547 18.102629 61.036295 61.036295 0 0 1-42.773466-17.622028L102.28786 527.219024a61.036295 61.036295 0 0 1-17.622028-37.486859 4.806008 4.806008 0 0 1 4.806008-5.286608H662.988736z"
              fill="#606266" p-id="5536"></path>
          </svg>
          <svg v-if="item.type === 3 && pickedList.findIndex(o => o.type === item.type) !== -1" t="1732866342568"
            class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5534" width="16"
            height="16">
            <path
              d="M970.893617 427.414268h-62.478098a30.918648 30.918648 0 0 0 0 61.837296h62.478098a30.918648 30.918648 0 0 0 0-61.837296zM405.546934 290.923655H342.588235A30.918648 30.918648 0 0 0 342.588235 352.440551h62.317898a30.918648 30.918648 0 0 0 0-61.837297zM467.22403 567.108886H281.55194a30.918648 30.918648 0 0 0 0 61.837297h185.67209a30.918648 30.918648 0 0 0 0-61.837297zM961.922403 748.295369h-62.478098a30.918648 30.918648 0 0 0 0 61.837297h62.478098a30.918648 30.918648 0 1 0 0-61.837297zM961.922403 962.162703H792.590738a30.918648 30.918648 0 0 0 0 61.837297h169.331665a30.918648 30.918648 0 1 0 0-61.837297zM587.694618 962.162703h-62.478097a30.918648 30.918648 0 0 0 0 61.837297h62.478097a30.918648 30.918648 0 1 0 0-61.837297zM213.306633 962.162703H97.481852a30.918648 30.918648 0 1 0 0 61.837297h115.824781a30.918648 30.918648 0 0 0 0-61.837297z"
              fill="#ffffff" p-id="5535"></path>
            <path
              d="M839.209011 281.952441L593.461827 35.724656a123.834793 123.834793 0 0 0-174.137672 0L58.392991 396.81602a122.873592 122.873592 0 0 0 0 174.137672l247.509387 247.829787a121.43179 121.43179 0 0 0 86.347935 35.724656 123.354193 123.354193 0 0 0 87.789737-36.205256l244.145182-252.315395a84.425532 84.425532 0 0 0 8.811013-107.654568 87.309136 87.309136 0 0 0-71.769712-35.724656H135.929912a6.56821 6.56821 0 0 1-4.645807-11.214017L462.898623 80.100125a61.677096 61.677096 0 0 1 86.828536 0l247.509387 247.028786a30.758448 30.758448 0 0 0 42.613266 1.121402A32.04005 32.04005 0 0 0 839.209011 281.952441zM662.988736 484.445557a22.588235 22.588235 0 0 1 20.986233 13.777221 22.107635 22.107635 0 0 1-4.645808 24.510639L436.946183 774.56821a64.0801 64.0801 0 0 1-44.37547 18.102629 61.036295 61.036295 0 0 1-42.773466-17.622028L102.28786 527.219024a61.036295 61.036295 0 0 1-17.622028-37.486859 4.806008 4.806008 0 0 1 4.806008-5.286608H662.988736z"
              fill="#ffffff" p-id="5536"></path>
          </svg>
          <svg v-if="item.type === 4 && !(pickedList.findIndex(o => o.type === item.type) !== -1)" t="1732866484499"
            class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7320" width="16"
            height="16">
            <path
              d="M866.026114 394.508898c-10.387464-12.109738-19.913792-22.335739-27.556382-29.97833l-69.106239-65.60787a31.431498 31.431498 0 0 0-23.627445-10.387464H294.285008a30.731824 30.731824 0 0 0-20.505823 7.804053L186.212323 362.700652a403.012087 403.012087 0 0 0-28.848088 31.862067A119.106003 119.106003 0 0 0 135.297601 472.172686v425.186363a167.921703 167.921703 0 0 0 14.424044 60.871617 127.663551 127.663551 0 0 0 33.745804 43.056847 106.296591 106.296591 0 0 0 72.120218 22.228097h514.636963a107.642117 107.642117 0 0 0 71.259082-21.528423 128.201762 128.201762 0 0 0 34.768404-44.133268A150.698964 150.698964 0 0 0 888.792422 896.121165V472.065044a119.913319 119.913319 0 0 0-22.766308-77.609967z m-38.966446 501.935193a85.521662 85.521662 0 0 1-6.942917 36.060109 64.58527 64.58527 0 0 1-18.030054 22.33574 48.761879 48.761879 0 0 1-31.323856 7.64259H253.70393a52.636995 52.636995 0 0 1-31.431498-7.212022 66.361365 66.361365 0 0 1-17.599486-22.228097 106.458054 106.458054 0 0 1-8.503727-36.652141V472.226507a64.58527 64.58527 0 0 1 7.050558-37.351815c8.934296-10.764212 17.330381-19.590865 24.219477-26.910529l78.30964-57.696175h426.370426l61.517471 57.211785c7.804054 7.804054 16.146318 17.007455 25.403539 27.717845 1.130242 1.291705 7.212022 9.526327 7.212022 37.674741z m-177.609494-462.861104a64.58527 64.58527 0 0 0-11.248601 1.130242 671.794454 671.794454 0 0 0-218.513498 95.909126 207.264897 207.264897 0 0 0-76.156798 158.664481v79.493704a10.764212 10.764212 0 0 1 0 2.152842l0.861137 4.467148a26.910529 26.910529 0 0 0 6.350885 11.517707 96.07059 96.07059 0 0 0 42.249531 20.613465 277.232273 277.232273 0 0 0 40.365794 2.744874 227.017225 227.017225 0 0 0 93.164252-17.168918 269.105293 269.105293 0 0 0 132.238342-168.029345 771.793981 771.793981 0 0 0 20.34436-162.70106 28.578982 28.578982 0 0 0-29.709225-28.848087z m-28.848087 74.703629a648.22083 648.22083 0 0 1-16.146318 102.959685 216.414477 216.414477 0 0 1-100.968306 130.677531 123.465509 123.465509 0 0 1-31.162393 9.68779l-27.825487 4.897717 21.528424-17.76095a403.65794 403.65794 0 0 0 116.845518-145.316858 27.771666 27.771666 0 0 0-36.060109-37.190352 27.825487 27.825487 0 0 0-15.554286 14.424044 374.863673 374.863673 0 0 1-121.312667 139.934753l-11.517706 8.503727v-27.986951a152.959449 152.959449 0 0 1 53.821059-115.392349 576.907928 576.907928 0 0 1 158.395375-74.811272l10.226001-3.336906zM242.401508 245.047818h541.170745a39.66612 39.66612 0 0 0 39.66612-39.66612V96.878444A96.877906 96.877906 0 0 0 726.091362 0.000538H299.720935a96.877906 96.877906 0 0 0-96.877905 96.877906v108.664717a39.66612 39.66612 0 0 0 39.66612 39.66612zM260.80831 96.878444a39.074089 39.074089 0 0 1 39.074089-39.074089h426.370426a39.074089 39.074089 0 0 1 39.074089 39.074089v90.634663h-504.84153z"
              fill="#606266" p-id="7321"></path>
          </svg>
          <svg v-if="item.type === 4 && pickedList.findIndex(o => o.type === item.type) !== -1" t="1732866484499"
            class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7320" width="16"
            height="16">
            <path
              d="M866.026114 394.508898c-10.387464-12.109738-19.913792-22.335739-27.556382-29.97833l-69.106239-65.60787a31.431498 31.431498 0 0 0-23.627445-10.387464H294.285008a30.731824 30.731824 0 0 0-20.505823 7.804053L186.212323 362.700652a403.012087 403.012087 0 0 0-28.848088 31.862067A119.106003 119.106003 0 0 0 135.297601 472.172686v425.186363a167.921703 167.921703 0 0 0 14.424044 60.871617 127.663551 127.663551 0 0 0 33.745804 43.056847 106.296591 106.296591 0 0 0 72.120218 22.228097h514.636963a107.642117 107.642117 0 0 0 71.259082-21.528423 128.201762 128.201762 0 0 0 34.768404-44.133268A150.698964 150.698964 0 0 0 888.792422 896.121165V472.065044a119.913319 119.913319 0 0 0-22.766308-77.609967z m-38.966446 501.935193a85.521662 85.521662 0 0 1-6.942917 36.060109 64.58527 64.58527 0 0 1-18.030054 22.33574 48.761879 48.761879 0 0 1-31.323856 7.64259H253.70393a52.636995 52.636995 0 0 1-31.431498-7.212022 66.361365 66.361365 0 0 1-17.599486-22.228097 106.458054 106.458054 0 0 1-8.503727-36.652141V472.226507a64.58527 64.58527 0 0 1 7.050558-37.351815c8.934296-10.764212 17.330381-19.590865 24.219477-26.910529l78.30964-57.696175h426.370426l61.517471 57.211785c7.804054 7.804054 16.146318 17.007455 25.403539 27.717845 1.130242 1.291705 7.212022 9.526327 7.212022 37.674741z m-177.609494-462.861104a64.58527 64.58527 0 0 0-11.248601 1.130242 671.794454 671.794454 0 0 0-218.513498 95.909126 207.264897 207.264897 0 0 0-76.156798 158.664481v79.493704a10.764212 10.764212 0 0 1 0 2.152842l0.861137 4.467148a26.910529 26.910529 0 0 0 6.350885 11.517707 96.07059 96.07059 0 0 0 42.249531 20.613465 277.232273 277.232273 0 0 0 40.365794 2.744874 227.017225 227.017225 0 0 0 93.164252-17.168918 269.105293 269.105293 0 0 0 132.238342-168.029345 771.793981 771.793981 0 0 0 20.34436-162.70106 28.578982 28.578982 0 0 0-29.709225-28.848087z m-28.848087 74.703629a648.22083 648.22083 0 0 1-16.146318 102.959685 216.414477 216.414477 0 0 1-100.968306 130.677531 123.465509 123.465509 0 0 1-31.162393 9.68779l-27.825487 4.897717 21.528424-17.76095a403.65794 403.65794 0 0 0 116.845518-145.316858 27.771666 27.771666 0 0 0-36.060109-37.190352 27.825487 27.825487 0 0 0-15.554286 14.424044 374.863673 374.863673 0 0 1-121.312667 139.934753l-11.517706 8.503727v-27.986951a152.959449 152.959449 0 0 1 53.821059-115.392349 576.907928 576.907928 0 0 1 158.395375-74.811272l10.226001-3.336906zM242.401508 245.047818h541.170745a39.66612 39.66612 0 0 0 39.66612-39.66612V96.878444A96.877906 96.877906 0 0 0 726.091362 0.000538H299.720935a96.877906 96.877906 0 0 0-96.877905 96.877906v108.664717a39.66612 39.66612 0 0 0 39.66612 39.66612zM260.80831 96.878444a39.074089 39.074089 0 0 1 39.074089-39.074089h426.370426a39.074089 39.074089 0 0 1 39.074089 39.074089v90.634663h-504.84153z"
              fill="#ffffff" p-id="7321"></path>
          </svg>
          {{ item.name }}
        </div>
        <div class="remark-box">
          <div class="label">备注</div>
          <div class="input">
            <el-input v-model="remark" type="textarea" placeholder="记录农事备注(选填)"></el-input>
          </div>
        </div>
      </div>
    </div>
    <template #footer>
      <div class="dialog-footer">
        <el-button @click="isShow = false" size="large">取消</el-button>
        <el-button type="primary" @click="handleStartEvent" size="large" :disabled="!pickedList.length">
          开始 {{ pickedList.map(o => o.name).join("+") }}
        </el-button>
      </div>
    </template>
  </el-dialog>
</template>

<script setup lang="ts">
import { startEvent } from '@/api/manage/field';
import { inject, reactive, ref, type Reactive, type Ref } from 'vue';

const { field_crop_id } = defineProps({
  field_crop_id: {
    type: Number,
    required: true
  }
})

const eventList: Reactive<Array<{ type: number, name: string }>> = reactive([
  {
    type: 1,
    name: "翻地"
  },
  {
    type: 2,
    name: "播种"
  },
  {
    type: 3,
    name: "施肥"
  },
  {
    type: 4,
    name: "打药"
  },
])

//备注
const remark: Ref = ref('')
//选中的事情列表
const pickedList: Reactive<Array<{ type: number, name: string }>> = reactive([])

//选择
const handlePick = (item: { type: number, name: string }) => {
  const index = pickedList.findIndex(o => o.type === item.type)
  if (index === -1) pickedList.push(item)
  else pickedList.splice(index, 1)
}

//开始农事
const handleGetFields = inject('handleGetFields') as Function
const handleStartEvent = async () => {
  const res = await startEvent(pickedList.map(o => o.type), field_crop_id, remark.value)
  await handleGetFields()
  //@ts-ignore
  ElMessage({
    message: res.msg,
    type: "success"
  })
  handleShow()
}

let isShow: Ref = ref(false)
function handleShow(): void {
  isShow.value = !isShow.value
}
defineExpose({ handleShow })
</script>

<style lang="scss" scoped>
.dialog-body {
  .event-list {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    padding: 20px 0;

    .event-item {
      padding: 10px 20px;
      // letter-spacing: 5px;
      border: 1px solid #DCDFE6;
      border-radius: 8px;
      cursor: pointer;
      transition: all .2s;
      font-size: 16px;
      display: flex;
      align-items: center;
      gap: 5px;

      &:hover {
        border-color: #409EFF;
        color: #409EFF;
      }
    }

    .active {
      background-color: #409EFF;
      border-color: #409EFF;
      color: #fff;

      &:hover {
        border-color: #409EFF;
        color: #fff;
      }
    }
  }
}
</style>